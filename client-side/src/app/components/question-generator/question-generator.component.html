
<div class="question-with-sequence-container" [ngClass]="{ 'editable-state': editable }"
    cdkDrag [cdkDragDisabled]="!editable" [cdkDragData]="question"
    (cdkDragStarted)="onDragStart($event)" (cdkDragEnded)="onDragEnd($event)"
    (cdkDragExited)="onDragExited($event)" (cdkDragEntered)="onDragEntered($event)">

    <div *ngIf="editable" class="pep-button sm sequence-number">
        <span class="body-xs " title="{{ sequenceNumber }}">{{ sequenceNumber }}</span>
    </div>

    <div class="question-container" (click)="onQuestionClicked($event)" [ngClass]="{ 'active-question': isActive }">
        <pep-field-title [label]="question.Title" [mandatory]="question.Mandatory"
            [maxFieldCharacters]="question.MaxFieldCharacters">
        </pep-field-title>

        <div *ngIf="question.Description?.length > 0" class="question-description-container">
            <span class="body-sm color-dimmed ellipsis" title="{{ question.Description }}">{{ question.Description }}</span>
        </div>

        <ng-container [ngSwitch]="question.Type" >
            <ng-container *ngSwitchCase="'short-text'">
                <pep-textbox [value]="question.Value" [renderTitle]="false" (valueChange)="onQuestionValueChanged($event)"></pep-textbox>
            </ng-container>
            <!-- <ng-container *ngSwitchCase="'date'">
                <pep-date-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-date-filter>
            </ng-container-->
            <ng-container *ngSwitchCase="'single-selection-dropdown'">
                <pep-select [value]="question.Value" [mandatory]="question?.Mandatory"
                    [options]="question?.OptionalValues || []" [renderTitle]="false"></pep-select>
            </ng-container>
            <ng-container *ngSwitchCase="'multiple-selection-dropdown'">
                <pep-select [value]="question.Value" type="multi" [mandatory]="question?.Mandatory"
                    [options]="question?.OptionalValues || []" [renderTitle]="false"></pep-select>
            </ng-container>
            <!--ng-container *ngSwitchCase="'number'">
                <pep-number-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-number-filter>
            </ng-container>
            <ng-container *ngSwitchCase="'text'">
                <pep-text-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-text-filter>
            </ng-container> -->
            <ng-container *ngSwitchDefault>
                <span>{{ 'SURVEY_MANAGER.QUESTION_TYPE_NOT_SUPPORTED' | translate }}</span>
            </ng-container>
        </ng-container>
    </div>
</div>
