
<div class="question-with-sequence-container" [ngClass]="{ 'editable-state': editable }"
    cdkDrag [cdkDragDisabled]="!editable" [cdkDragData]="question"
    (cdkDragStarted)="onDragStart($event)" (cdkDragEnded)="onDragEnd($event)"
    (cdkDragExited)="onDragExited($event)" (cdkDragEntered)="onDragEntered($event)">

    <div *ngIf="editable" class="pep-button sm sequence-number">
        <span class="body-xs " title="{{ sequenceNumber }}">{{ sequenceNumber }}</span>
    </div>

    <div class="question-container" (click)="onQuestionClicked($event)" [ngClass]="{ 'active-question': isActive }">
        <div class="question-header-container">
            <span *ngIf="question?.Type?.length > 0" class="body-sm ellipsis title" title="{{ question.Title }}">{{ question.Type }}</span>
            <div><mat-icon *ngIf="question?.Mandatory" class="pep-spacing-element">
                <pep-icon name="system_must"></pep-icon>
            </mat-icon><span *ngIf="question?.Name?.length > 0" class="body-sm ellipsis" title="{{ question.Name }}">{{ question.Name }}</span>
            </div>
            <span *ngIf="question?.Description?.length > 0" class="body-sm color-dimmed ellipsis" title="{{ question.Description }}">{{ question.Description }}</span>
        </div>
        <ng-container [ngSwitch]="question.Type" >
            <ng-container *ngSwitchCase="'short-text'">
                <pep-textbox [key]="'short-text'" [renderTitle]="false"  [value]="question.Value" (valueChange)="onQuestionValueChanged($event)"></pep-textbox>
            </ng-container>
            <!-- <ng-container *ngSwitchCase="'date'">
                <pep-date-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-date-filter>
            </ng-container-->
            <ng-container *ngSwitchCase="'multiple-selection-dropdown'">
                <pep-select
                    value=""
                    label="select an option"
                    type="select" [mandatory]="question?.Mandatory" [options]="question?.OptionalValues || []" [showTitle]="false"
                    ></pep-select>
                <!-- <pep-multi-select-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-multi-select-filter> -->
            </ng-container>
            <!--ng-container *ngSwitchCase="'number'">
                <pep-number-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-number-filter>
            </ng-container>
            <ng-container *ngSwitchCase="'text'">
                <pep-text-filter [field]="field" [filter]="filtersDataMap.get(field.id)"
                    (filterChange)="onFilterChange(field, $event)" (filterClear)="onFilterClear(field)">
                </pep-text-filter>
            </ng-container> -->
            <ng-container *ngSwitchDefault>
                {{question?.Type}}
                <span>{{ 'SURVEY_MANAGER.QUESTION_TYPE_NOT_SUPPORTED' | translate }}</span>
            </ng-container>
        </ng-container>
    </div>
</div>
